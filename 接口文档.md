# 金融贷款平台服务端接口
- 接口baseurl：
## 8081端口
1、获取图形验证码
请求方法: GET
接口路径:/base/captcha
示例返回：
```ts
{
	captchaid:string(验证码 ID，用于后续校验),
	picpath:string（base64 图片路径）,
	answer:string（验证码答案(前端不显示)）,
}
```
2、发送短信验证码
请求方法: POST
接口路径:/user/send_sms
示例请求：
```ts
	mobile:string(手机号，必填),
	type:number(类型:1 注册，2 登录，必填)
```
3、发送邮箱验证码
请求方法: POST
接口路径:/user/send_email
示例请求：
```ts
	email:string(邮箱地址，必填),
	type:number(类型:1 注册，2 登录，必填)
```
4、手机号注册
请求方法: POST
接口路径:/user/mobile_register
示例请求：
```ts
	mobile:string(手机号，必填),
	nickname:string(必填),
	password:string(必填),
	code:string(必填),
```
5、邮箱注册
请求方法: POST
接口路径:/user/email_register
示例请求：
```ts
	email:string(手机号，必填),
	nickname:string(必填),
	password:string(必填),
	code:string(必填),
```
6、手机号登录
请求方法: GET
接口路径:/user/mobile_pwd_login
示例请求：
```ts
	mobile:string(手机号，必填),
	captcha:string(必填),
	password:string(必填),
	captcha_id:string(必填),
```
7、邮箱登录
请求方法: GET
接口路径:/user/email_pwd_login
示例请求：
```ts
	email:string(手机号，必填),
	captcha:string(必填),
	password:string(必填),
	captcha_id:string(必填),
```
8、获取用户信息
请求方法: GET
接口路径:/user/get_user_info
示例参数：
```ts
{
	id:number
}
```
9、修改用户信息
请求方法: POST
接口路径:/user/update_user_info
示例请求:
```ts
{
    "id": 1,
    "nickname":"Faker"
    'email":"test@example.com"
    "mobile":"13909688080"
    'gender":“男”
    "id_number": "123456199001011234"
    "address":"Seoul, South Korea"
    "marital_status":0
    'career'Programmer'
    "emergency_contact": "Keria"
	"photo":"http: //cdn.example.com/avatar.jpg",
	"name":"李相赫"
}
```
##  8082端口
1、获取我的贷款订单
接口路径：/user/get_my_loan_order
请求方式：GET
请求参数（JSON）
示例请求：
```ts
{
    id:number(必填)
}
```
2、提交贷款申请
接口路径：/user/submit_loan_application
请求方式：POST
请求参数（JSON）
示例请求：
```ts
{
    borrower_id:number（必填）,
    loan_amount:number（必填）,
    interest_rate:number（必填）,
	pay_month:number（必填）,
	total_repay_amount:number（必填）,
    month_pay:number（必填），
}
```
3、查看所有贷款申请
接口路径:/user/view loan application
请求方式:GET
请求参数(Query 或JSON)
示例请求：
```ts
{
	id:number(必填)
}
```
4、取消贷款申请
接囗路径:/user/cancel_loan_application
请求方式: POST
请求参数(JSON):
示例请求：
```ts
{
	borrower_id:number（必填）,
	loan_id:number（必填）
}
```

## 8023端口
1、提交还款信息
接口地址:/user/pay_my_loan_order
请求方式:POST
Content-Type:application/json
示例请求：

```ts
{
	borrower_id:number（必填）,
	loan_id:number（必填）
}
```
2、获取我的还款记录
接口地址:/user/get_my_pay_records
请求方式: GET
Content-Type:application/json 
示例请求：
```ts
{
	borrower_id:number（必填）,
	loan_id:number（必填）
}
```

## 8024端口

1、创建管理员账户
请求类型：POST
接口路径：/manager/creat_manager_account
请求参数（请求体）
```ts
{
	account:string,
	password:string
}
```
2、管理员登录
请求类型：POST
接口路径：/manager/manager_login
请求参数（请求体）
```ts
{
	account:string,
	password:string
}
```
3、获取所有贷款金额
请求类型：GET
接口路径：/manager/get_total_loan_amount
请求参数:无
示例返回：
```ts
{
	total_loan_amount:1000000, //所有贷款的总金额
	status:200
}
```
4、获取所有用户贷款信息
请求类型：GET
接口路径：/manager/get_total_user_loan_info
请求参数:无
示例返回：
```ts
{
	user_loan_info:[
		{
			user_id:1,
			loan_amount:10000,
			loan_status:approved
		},
		{
			user_id:2,
			loan_amount:20000,
			loan_status:pending
		},
	]
	status:200
}
```
5、获取用户信用分数
请求类型：GET
接口路径：/manager/get_user_credit_score
请求参数
```ts
{
	id:123
}
```
示例返回：
```ts
{
	user_id:123,
	credit_score:750,
	status:200
}
```
6、批准用户贷款申请
请求类型：POST
接口路径：/manager/approve_loan_application
请求参数（请求体）
```ts
{
	loan_id:456,//贷款ID，必填
	status:"approved" //新的贷款状态，必填，可以使approved或rejected
}
```
